{"version":3,"sources":["webpack:///./posts/posts/2014-12-04-python3-yield-from-skills-up.markdown"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","id","parentName","isMDXComponent"],"mappings":"gRAMO,IAAMA,EAAe,GAOtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,iBAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,qDAAoC,iBAAGC,GAAG,WAC1C,2dAEA,qEAAoD,iBAAGA,GAAG,aAC1D,kBAAS,CACP,UAAa,mBACb,gBAAiB,QAChB,iCAAKC,WAAW,OAAU,CACzB,MAAS,CACP,aAAgB,kBAElB,UAAa,+BACZ,kCAAMA,WAAW,OAAU,CAC1B,UAAa,kBADd,gbAmBmB,kCAAMA,WAAW,OAAU,CAC7C,cAAe,OACf,UAAa,oBACb,MAAS,CACP,WAAc,SACd,MAAS,OACT,KAAQ,OAET,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,YACviB,0DAAyC,iBAAGD,GAAG,aAC/C,kBAAS,CACP,UAAa,mBACb,gBAAiB,QAChB,iCAAKC,WAAW,OAAU,CACzB,MAAS,CACP,aAAgB,kBAElB,UAAa,+BACZ,kCAAMA,WAAW,OAAU,CAC1B,UAAa,kBADd,qjBA4BwB,kCAAMA,WAAW,OAAU,CAClD,cAAe,OACf,UAAa,oBACb,MAAS,CACP,WAAc,SACd,MAAS,OACT,KAAQ,OAET,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,YAC9zB,+CAA8B,iBAAGD,GAAG,aACpC,kBAAS,CACP,UAAa,mBACb,gBAAiB,QAChB,iCAAKC,WAAW,OAAU,CACzB,MAAS,CACP,aAAgB,kBAElB,UAAa,+BACZ,kCAAMA,WAAW,OAAU,CAC1B,UAAa,kBADd,uYAoBwB,kCAAMA,WAAW,OAAU,CAClD,cAAe,OACf,UAAa,oBACb,MAAS,CACP,WAAc,SACd,MAAS,OACT,KAAQ,OAET,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,SAAc,oBAAMA,WAAW,YACtkB,0CAAyB,iBAAGD,GAAG,aAC/B,sBACE,kBAAIC,WAAW,MAAf,kMACA,kBAAIA,WAAW,MAAf,6PACA,kBAAIA,WAAW,MAAf,2IAEF,kDAAiC,+BAAGA,WAAW,KAAQ,CACnD,KAAQ,oEADqB,oEAGjC,sBAAI,kCAAMA,WAAW,MAAS,CAC1B,UAAa,kBADb,aAAJ,aAEuC,kCAAMA,WAAW,MAAS,CAC7D,UAAa,kBADsB,YAFvC,cAIuC,kCAAMA,WAAW,MAAS,CAC7D,UAAa,kBADsB,SAJvC,aAMmC,kCAAMA,WAAW,MAAS,CACzD,UAAa,kBADkB,YANnC,IAQ6B,iBAAGD,GAAG,aACnC,uLACA,kCAAiB,iBAAGA,GAAG,WACvB,qBAAG,+BAAGC,WAAW,KAAQ,CACrB,KAAQ,gDADT,+CAAH,KAGF,+BAAGA,WAAW,KAAQ,CAChB,KAAQ,gDADd,+CAHE,KAMF,+BAAGA,WAAW,KAAQ,CAChB,KAAQ,8BADd,8BAGE,sBACE,kBAAIA,WAAW,MAAf,4BAAiD,+BAAGA,WAAW,MAAS,CACpE,KAAQ,oBADqC,mBAQvDL,EAAWM,gBAAiB","file":"component---posts-posts-2014-12-04-python-3-yield-from-skills-up-markdown-9c0c6e9c7d247779a301.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/cccc-im/cccc-im/src/components/posts-layout.jsx\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1>{`python3 yield from skills up`}<a id=\"sec-1\"></a></h1>\n    <p>{`The explanation that yield from g is equivalent to for v in g: yield v does not even begin to do justice to what yield from is all about. Because, let's face it, if all yield from does is expand the for loop, then it does not warrant adding yield from to the language and preclude a whole bunch of new features from being implemented in Python 2.x.\nThink of yield from as providing a transparent two-way channel from the caller to the sub-generator.`}</p>\n    <h2>{`sending data to a generator using yield from`}<a id=\"sec-1-1\"></a></h2>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-text line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`def generator():\n    \"\"\"\n    A generator(coroutine) that writes data *sent* to it to fd, socket, etc.\n    \"\"\"\n    while True:\n        w = (yield)\n        print('>> %s' % w)\n\n\ndef gen_wrapper(c):          # c for coroutine\n    yield from c\n\nif __name__ == '__main__':\n    gen = generator()\n    wrap = gen_wrapper(gen)\n    wrap.send(None)  # initialize the coroutine\n    for i in range(4):\n        gen.send(i)`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h2>{`exception handling for yield from`}<a id=\"sec-1-2\"></a></h2>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-text line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`class TransactionException(Exception):\n    pass\n\n\ndef generator():\n    while True:\n        try:\n            w = (yield)\n        except TransactionException:\n            print('******')\n        else:\n            print('>> ', w)\n\n\ndef gen_wrapper(c):          # c for coroutine\n    yield from c\n\n\nif __name__ == '__main__':\n    gen = generator()\n    wrap = gen_wrapper(gen)\n    wrap.send(None)\n    for i in [0, 1, 2, 3, 'exc', 4]:\n        if i == 'exc':\n            wrap.throw(TransactionException)\n        else:\n            wrap.send(i)`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h2>{`close outside of block`}<a id=\"sec-1-3\"></a></h2>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-text line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`def generator():\n    while True:\n        w = (yield)\n        print('>> ', w)\n\n\ndef gen_wrapper(c):          # c for coroutine\n    yield from c\n\n\nif __name__ == '__main__':\n    gen = generator()\n    wrap = gen_wrapper(gen)\n    wrap.send(None)\n    for i in [0, 1, 2, 3, 'close', 4]:\n        if i == 'close':\n            wrap.close()\n        else:\n            wrap.send(i)`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h2>{`benefits of yield`}<a id=\"sec-1-4\"></a></h2>\n    <ul>\n      <li parentName=\"ul\">{`Using a generalization of the StopIteration exception makes it easy for other kinds of iterators to participate in the protocol without having to grow an extra attribute or a close() method.`}</li>\n      <li parentName=\"ul\">{`It simplifies the implementation, because the point at which the return value from the subgenerator becomes available is the same point at which the exception is raised. Delaying until any later time would require storing the return value somewhere.`}</li>\n      <li parentName=\"ul\">{`the primary benefits of yield from come when you've written a generator that uses these techniques and when it needs to be refactored.`}</li>\n    </ul>\n    <p>{`and especially this part: `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.python.org/dev/peps/pep-0380/#generators-as-threads\"\n      }}>{`https://www.python.org/dev/peps/pep-0380/#generators-as-threads`}</a></p>\n    <h2><code parentName=\"h2\" {...{\n        \"className\": \"language-text\"\n      }}>{`coroutine`}</code>{` is not a `}<code parentName=\"h2\" {...{\n        \"className\": \"language-text\"\n      }}>{`callback`}</code>{` (which is `}<code parentName=\"h2\" {...{\n        \"className\": \"language-text\"\n      }}>{`yield`}</code>{` is not a `}<code parentName=\"h2\" {...{\n        \"className\": \"language-text\"\n      }}>{`function`}</code>{`)`}<a id=\"sec-1-5\"></a></h2>\n    <p>{`The difference is that whenever the generator \"yields\" a value the execution of the generator is paused and the code continues where the generator was called.`}</p>\n    <h1>{`reference`}<a id=\"sec-2\"></a></h1>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"http://legacy.python.org/dev/peps/pep-0380/\"\n      }}>{`http://legacy.python.org/dev/peps/pep-0380/`}</a>{`\n`}<a parentName=\"p\" {...{\n        \"href\": \"http://legacy.python.org/dev/peps/pep-0342/\"\n      }}>{`http://legacy.python.org/dev/peps/pep-0342/`}</a>{`\n`}<a parentName=\"p\" {...{\n        \"href\": \"http://stackoverflows.com\"\n      }}>{`http://stackoverflows.com`}</a></p>\n    <ul>\n      <li parentName=\"ul\">{`speacial great thanks to `}<a parentName=\"li\" {...{\n          \"href\": \"about.me/fantix\"\n        }}>{`@Fantix King`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}
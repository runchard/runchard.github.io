<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.23aa2b0b5a8dfd45dade.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}a{background-color:transparent}small{font-size:80%}img{border-style:none}blockquote,h1,h2,h3,h4,h5,h6,hr,ol,p,ul{margin:0}ol,ul{list-style:none;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}img{display:block;vertical-align:middle;max-width:100%;height:auto}.bg-white{background-color:#fff}.bg-gray-100{background-color:#f7fafc}.border-solid{border-style:solid}.border{border-width:1px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.table{display:table}.items-center{align-items:center}.justify-end{justify-content:flex-end}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-auto{height:auto}.leading-4{line-height:1rem}.leading-6{line-height:1.5rem}.leading-8{line-height:2rem}.leading-9{line-height:2.25rem}.leading-10{line-height:2.5rem}.leading-tight{line-height:1.25}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.list-decimal{list-style-type:decimal}.mx-1{margin-left:.25rem;margin-right:.25rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.my-5{margin-top:1.25rem;margin-bottom:1.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mr-2{margin-right:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}.mt-10{margin-top:2.5rem}.mb-10{margin-bottom:2.5rem}.mb-24{margin-bottom:6rem}.max-w-full{max-width:100%}.min-h-screen{min-height:100vh}.p-1{padding:.25rem}.p-2{padding:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.pt-2{padding-top:.5rem}.pb-2{padding-bottom:.5rem}.pl-2{padding-left:.5rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.table-fixed{table-layout:fixed}.text-white{color:#fff}.text-gray-500{color:#a0aec0}.text-sm{font-size:.875rem}.text-lg{font-size:1.125rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem}.italic{font-style:italic}.uppercase{text-transform:uppercase}.no-underline{text-decoration:none}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tracking-wide{letter-spacing:.025em}.w-full{width:100%}@media (min-width:640px){.sm\:mx-4{margin-left:1rem;margin-right:1rem}}@media (min-width:768px){.md\:mt-0{margin-top:0}.md\:max-w-screen-md{max-width:768px}}code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;font-weight:700}pre>code[class*=language-]{font-size:1em}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#c1def1}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#c1def1}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background-color:#f5f5f5}:not(pre)>code[class*=language-]{padding:1px .2em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:green;font-style:italic}.token.namespace{opacity:.7}.token.string{color:#a31515}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.inserted,.token.number,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,.token.atrule,.token.attr-value,.token.keyword,code[class*=language-css]{color:#00f}.token.function{color:#393a34}.language-autohotkey .token.tag,.token.deleted{color:#9a050f}.language-autohotkey .token.keyword,.token.selector{color:#00009f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.language-json .token.property,.token.class-name{color:#2b91af}.token.selector,.token.tag{color:maroon}.token.attr-name,.token.entity,.token.property,.token.regex{color:red}.token.directive.tag .tag{background:#ff0;color:#393a34}.line-numbers .line-numbers-rows{border-right-color:#a5a5a5}.line-numbers-rows>span:before{color:#2b91af}.line-highlight{background:rgba(193,222,241,.2);background:-webkit-linear-gradient(left,rgba(193,222,241,.2) 70%,rgba(221,222,241,0));background:linear-gradient(90deg,rgba(193,222,241,.2) 70%,rgba(221,222,241,0))}</style><meta name="generator" content="Gatsby 2.20.4"/><title data-rh="true">面试程序员内功之测试篇</title><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" name="twitter:site" content="@runchard"/><meta data-rh="true" name="twitter:creator" content="@runchard"/><meta data-rh="true" property="og:url" content="https://cccc.im/"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:locale" content="zh_CN"/><meta data-rh="true" property="og:site_name" content="Richard"/><meta data-rh="true" name="robots" content="index,follow"/><meta data-rh="true" name="googlebot" content="index,follow"/><script data-rh="true" type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage"
  },
  "headline": "面试程序员内功之测试篇",
  "image": [],
  "datePublished": "2016-10-04T07:43:35.000Z",
  "dateModified": "2016-10-04T07:43:35.000Z",
  "author": {
    "@type": "Person",
    "name": "richard"
  },
  "publisher": {
    "@type": "Organization",
    "name": "https://cccc.im/favicon-180.png",
    "logo": {
      "@type": "ImageObject",
      "url": "CCCC IM"
    }
  }
}</script><link rel="alternate" type="application/rss+xml" title="Richard&#x27;s Shack" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-d9c99ac4916e18f71add.js"/><link as="script" rel="preload" href="/styles-0fbe15c6518adcb30728.js"/><link as="script" rel="preload" href="/app-190c8009e55ed43976fb.js"/><link as="script" rel="preload" href="/commons-37cba89495ea9007d365.js"/><link as="script" rel="preload" href="/component---src-components-posts-page-layout-jsx-aed49afcd4d5d048444d.js"/><link as="fetch" rel="preload" href="/page-data/posts/archived/2016-10-04-/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1qgajg6">.css-1qgajg6{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;line-height:1.25;min-height:100vh;width:100%;background-color:#fff;}</style><div class="css-1qgajg6"><style data-emotion-css="zgwyuu">.css-zgwyuu{margin-left:auto;margin-right:auto;margin-top:1.25rem;margin-bottom:1.25rem;}@media (min-width:768px){.css-zgwyuu{max-width:768px;}}</style><header class="css-zgwyuu"><style data-emotion-css="1bvc4cc">.css-1bvc4cc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}</style><nav class="css-1bvc4cc"><style data-emotion-css="3nyh0o">.css-3nyh0o{color:#0055FF;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase;-webkit-letter-spacing:0.025em;-moz-letter-spacing:0.025em;-ms-letter-spacing:0.025em;letter-spacing:0.025em;font-weight:700;font-size:1.25rem;margin-left:auto;margin-right:auto;}@media (min-width:640px){.css-3nyh0o{margin-left:1rem;margin-right:1rem;}}</style><a class="css-3nyh0o" href="/">Blogs</a><a class="css-3nyh0o" href="/tags">Tags</a><a class="css-3nyh0o" href="/about">About</a></nav></header><style data-emotion-css="ab9kzi">.css-ab9kzi{margin-left:auto;margin-right:auto;}@media (min-width:768px){.css-ab9kzi{max-width:768px;}}</style><div class="css-ab9kzi"><style data-emotion-css="1e4xsx5">.css-1e4xsx5{margin-top:1rem;margin-left:0.5rem;margin-right:0.5rem;margin-bottom:6rem;}@media (min-width:768px){.css-1e4xsx5{margin-top:0;}}</style><main class="css-1e4xsx5"><style data-emotion-css="1m2j4zd">.css-1m2j4zd{font-size:1.5rem;line-height:2.5rem;font-weight:700;margin-top:1.5rem;}</style><h1 class="css-1m2j4zd e1qygzsj1">面试程序员内功之测试篇</h1><span></span><a href="/tags/test/"><style data-emotion-css="khg4xx">.css-khg4xx{display:inline;background-color:#0055FF;font-size:0.875rem;color:#fff;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;font-weight:600;margin-right:0.5rem;}</style><span class="css-khg4xx">#<!-- -->test</span></a><div>at <time>10/4/2016</time></div><style data-emotion-css="wnfmz2">.css-wnfmz2{border-width:1px;margin-top:0.5rem;margin-bottom:0.5rem;}</style><hr class="css-wnfmz2"/><style data-emotion-css="gqff5f">.css-gqff5f{line-height:1.5rem;padding-bottom:0.5rem;}</style><p class="css-gqff5f e1qygzsj13">我个人对于测试的一些回答和总结.</p><style data-emotion-css="1engbwf">.css-1engbwf{font-size:1.25rem;line-height:2.25rem;font-weight:700;margin-top:1.25rem;}</style><h2 class="css-1engbwf e1qygzsj2">对于 TDD 的一些看法和实践?</h2><p class="css-gqff5f e1qygzsj13">正如<style data-emotion-css="12rknwd">.css-12rknwd{color:#0055FF;display:inline-block;}</style><a href="http://stackoverflow.com/a/153565" class="css-12rknwd e1qygzsj0">Kent Beck</a>所述,</p><style data-emotion-css="px9x89">.css-px9x89{display:block;font-weight:600;margin-top:0.5rem;margin-bottom:0.5rem;padding-top:0.5rem;padding-left:1rem;border-style:solid;border-left-width:4px;border-color:#0055FF;}</style><blockquote class="css-px9x89 e1qygzsj12"><p class="css-gqff5f e1qygzsj13">I get paid for code that works, not for tests.</p></blockquote><style data-emotion-css="1bb6arz">.css-1bb6arz{padding-left:0.5rem;margin-bottom:0.75rem;list-style-type:disc;list-style-position:inside;}.css-1bb6arz ul{padding-left:2rem;}.css-1bb6arz ol{padding-left:2rem;}</style><ul class="css-1bb6arz e1qygzsj1"><li>写足够小粒度的测试, 避免付出大的测试代价. 用来保证核心模块正确性.</li><li>确定函数的封装和粒度是切实合理的.</li><li>确保同类问题不会犯第二次.</li></ul><h2 class="css-1engbwf e1qygzsj2">对于软件测试的一些看法?</h2><p class="css-gqff5f e1qygzsj13">我觉着对于开发而言, 软件测试最重要的好处是, 可以深刻理解什么叫做可测试性 testability.
软件测试环节可以显著的告诉开发, 究竟软件开发的(阶段性)结果应该是什么. 在常见的需求领域中, 除了功能性需求Should do, 还有很多非功能性的需求should be. 程序员只是具备解决定义清晰问题的能力是远远不够的.
理解需求, 跟不同人协作, 则是软件开发的另一个层面. 理解软件测试则给了这样一个机会.</p><h2 class="css-1engbwf e1qygzsj2">对于{functional tests, integration tests, unit tests, acceptance tests, slow tests, fast tests, UI tests, E2E tests, and on and on}的概念和理解?</h2><ul class="css-1bb6arz e1qygzsj1"><li>测试的流派非常繁杂, 大部分概念都类似或重叠, 能够掌握所有的测试概念并没有太大意义.</li><li>对于普通程序员而言, 更需要构建一个覆盖相对全面, 能够轻易理解和掌控的测试分层方法.</li><li>我个人认为掌握 3 类就足够应付大部分场合.</li></ul><style data-emotion-css="12181rt">.css-12181rt{padding-left:0.5rem;margin-bottom:0.75rem;list-style-type:decimal;list-style-position:inside;}.css-12181rt ul{padding-left:2rem;}.css-12181rt ol{padding-left:2rem;}</style><ol class="css-12181rt e1qygzsj0"><li>Unit Test</li><li>Integration Test</li><li>Performance Test
单元测试, 就是最基准的函数级别的测试. 我一般会要求所有的单元测试在 3s 内测试完毕.
集成测试 Integration Test, 主要希望测试模块间搭配的结果应该是怎样的. 我一般会希望所有的集成测试在10分钟内测试完毕.
其中我认为端到端测试 (End to End test) 是可以归纳到集成测试里面的. 对于程序员而言, 不需要太严格的理解e2e test.
另外关于测试比重, 推荐是7:2:1, unit test: integration test: e2e test.
参考: <a href="https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html" class="css-12rknwd e1qygzsj0">Just Say No to More End-to-End Tests</a></li></ol><p class="css-gqff5f e1qygzsj13">性能测试 (Performance test) 则是完全不同的应用场景. 但是掌握性能测试才是真正的理解了自己技术的瓶颈. 分析磁盘, 网络, 内存, CPU 等一系列内容来推测自己的代码瓶颈和真正需要改善的那部分. 这个可以讲很多, 在此先略过.
事实上有太多花哨名字的测试, 至少对于开发而言, 并没有本质上的区别. 同样精力下, 掌握繁杂的概念并不会改善代码质量. 如果你加入了一家术语跟你不一样的公司, 只需要映射到自己的概念里面就好.</p><p class="css-gqff5f e1qygzsj13">另外, A/B Testing, 安全测试, 我认为都已经算是测试的引申. 超出了本篇的范畴.</p><h2 class="css-1engbwf e1qygzsj2">stub and mock?</h2><p class="css-gqff5f e1qygzsj13">自从造词大婶 Martin Flower 写了一篇 <a href="http://martinfowler.com/articles/mocksArentStubs.html" class="css-12rknwd e1qygzsj0">Mocks Aren&#x27;t Stubs</a>&quot;. 大家就开始面试这种概念问题了.
stub 主要是通过存储结果来进行反馈. 而 mock 则会模拟行为.
我个人认为明确的区分没有任何意义, 尽可能采用便于理解的方法才是王道.</p><h2 class="css-1engbwf e1qygzsj2">推荐一些关于软件测试的入门书?</h2><p class="css-gqff5f e1qygzsj13"><a href="https://amzn.com/1523477377" class="css-12rknwd e1qygzsj0">A Friendly Introduction to Software Testing</a>
<a href="https://amzn.com/161984995X" class="css-12rknwd e1qygzsj0">Starting to Unit Test: Not as Hard as You Think by Erik Dietrich</a></p><h2 class="css-1engbwf e1qygzsj2">关于面试程序员测试能力的过程和思考</h2><p class="css-gqff5f e1qygzsj13">如果在面试程序员, 问道对方测试相关的问题, 那肯定是希望:</p><ul class="css-1bb6arz e1qygzsj1"><li>有全局观</li><li>知道软件是如何协作的</li><li>有优先级, 分类组织软件结构</li><li>能够意识到测试往往是在理想条件下作出的</li></ul><style data-emotion-css="h0ahgm">.css-h0ahgm{font-size:1.125rem;line-height:2rem;font-weight:700;margin-top:1rem;}</style><h3 class="css-h0ahgm e1qygzsj3">检验测试能力的常见手段分为四类:</h3><p class="css-gqff5f e1qygzsj13"><strong><em>测试某个真实世界中的物品</em></strong> 比如, 如何测试一个杯子?
这时候往往真是的意图是交流, 反复的交流.
中心点是究竟应该 <strong><em>如何测试</em></strong> 一个怎样的杯子.
场景:
i for interviewer, c for candicate:
i: 如何测试一个杯子?
<strong><em>c: 大概谁会去用这个杯子呢?</em></strong>i: 可能是个小孩吧.
<strong><em>c: 大概这个小孩年龄多大呢?</em></strong>i: 可能只有三个月大.
<strong><em>c: 那我们可能需要一个奶嘴了. 杯子主要用来盛放水么?</em></strong>…
c: 所以最终我们是需要测试一个用来盛放温热牛奶给三个月-六个月的婴儿使用的杯子.
看起来这个题目很具体, 然而真正需要测试的点可能是完全不同的.
<strong>测试软件的一部分</strong> 需要体系化, 有理有据的定位问题:
<strong>首先要确定是黑盒测试, 还是白盒测试.</strong></p><ul class="css-1bb6arz e1qygzsj1"><li>能够使用的工具有哪些?</li><li>可能的边界</li><li>压力测试和失败条件是什么?</li></ul><h2 class="css-1engbwf e1qygzsj2">常见的测试指标</h2><ul class="css-1bb6arz e1qygzsj1"><li>Response time</li><li>Throughput</li><li>Resource Utilization</li><li>CPU/disk/memory Load</li></ul><h2 class="css-1engbwf e1qygzsj2">测试某一个函数</h2><p class="css-gqff5f e1qygzsj13">定义输入和输出. (这点非常重要, 往往没定义意味着忽略了重要的输入或者输出)</p><ul class="css-1bb6arz e1qygzsj1"><li>正常的输入输出.</li><li><ul class="css-1bb6arz e1qygzsj1"><li>边界输入输出, off-by-one issues.</li></ul></li><li><ul class="css-1bb6arz e1qygzsj1"><li><code class="language-text">NULL</code>s, <code class="language-text">0</code>s.</li></ul></li><li>非法输入, 特殊的输入, 比如对于二分, 使用偶数个或者奇数个输入, 对于排序, 使用排列好的数组.- 明确定义期望的结果</li></ul><h2 class="css-1engbwf e1qygzsj2">分析解决一些现有问题, 需要问清楚问题的具体场景.</h2><p class="css-gqff5f e1qygzsj13">分解场景为具体的逻辑流.
比如处理一个REST服务, 可能会分解为: 接受一个REST请求, 解析请求, 加载数据库, 计算数据, 序列化结果, 返回结果.
创造使用针对性强, 易操控的测试方法.</p><h2 class="css-1engbwf e1qygzsj2">对于随机问题的场景思考.</h2><p class="css-gqff5f e1qygzsj13">比如, 无法复现, 或者有的人可以复现, 有的人复现不了的时候. 可能的原因包含不限于:</p><ul class="css-1bb6arz e1qygzsj1"><li>使用未初始化的变量</li><li>内存泄漏</li><li>使用随机量</li><li>外部资源依赖 比如加载文件, 文件权限, etc.</li></ul><style data-emotion-css="k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-k008qs"><style data-emotion-css="df9niz">.css-df9niz{margin-left:0.25rem;margin-right:0.25rem;margin-top:2.5rem;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;background-color:#f5f5f5;color:#9e9e9e;}</style><div class="css-df9niz"><style data-emotion-css="1u0m9x5">.css-1u0m9x5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:#0055FF;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:600;}</style><a class="css-1u0m9x5" href="/posts/archived/2016-08-14-/"><style data-emotion-css="ubv93r">.css-ubv93r{margin-left:0.25rem;margin-right:0.25rem;}</style><span class="css-ubv93r">«<!-- --> <!-- -->谈谈时间片<!-- --> </span></a></div><div class="css-df9niz"><a class="css-1u0m9x5" href="/posts/archived/2016-10-04-joel-test-21/"><span class="css-ubv93r"> <!-- -->Joel test 2.1<!-- --> <!-- -->»</span></a></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/archived/2016-10-04-/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-190c8009e55ed43976fb.js"],"component---src-components-taggroup-layout-jsx":["/component---src-components-taggroup-layout-jsx-7730890ef0230a7e396e.js"],"component---src-components-posts-page-layout-jsx":["/component---src-components-posts-page-layout-jsx-aed49afcd4d5d048444d.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-9de3a7b482c70cced426.js"],"component---src-pages-about-jsx":["/component---src-pages-about-jsx-bd6f8131e203fe1d2fed.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-c73c1b1765b07858ba64.js"],"component---src-pages-tags-jsx":["/component---src-pages-tags-jsx-61c4b8c8a8b2d1d071bb.js"]};/*]]>*/</script><script src="/component---src-components-posts-page-layout-jsx-aed49afcd4d5d048444d.js" async=""></script><script src="/commons-37cba89495ea9007d365.js" async=""></script><script src="/app-190c8009e55ed43976fb.js" async=""></script><script src="/styles-0fbe15c6518adcb30728.js" async=""></script><script src="/webpack-runtime-d9c99ac4916e18f71add.js" async=""></script></body></html>